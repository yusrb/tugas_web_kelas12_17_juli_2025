<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MyBlog – Laravel & API</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: "Georgia", serif;
    }

    .prose pre {
      background-color: #f3f4f6;
      padding: 1rem;
      border-radius: 0.5rem;
      overflow-x: auto;
      font-size: 0.875rem;
    }

    .prose h3,
    .prose h4 {
      margin-top: 2rem;
      margin-bottom: 1rem;
    }
  </style>
</head>

<body class="bg-white text-gray-900 leading-relaxed">
  <header class="border-b border-gray-200">
    <div class="max-w-6xl mx-auto px-6 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold tracking-tight">MyBlog</h1>
      <div class="flex items-center space-x-6">
        <nav class="space-x-6 text-sm">
          <a href="index.html" class="text-gray-900">Beranda</a>
          <a href="index.html#artikel" class="hover:text-gray-600 font-semibold">Artikel</a>
          <a href="tentang.html" class="hover:text-gray-600">Tentang</a>
        </nav>
        <div class="relative">
          <input type="text" id="search" placeholder="Cari artikel..."
            class="w-64 px-4 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-gray-900" />
        </div>
      </div>
    </div>
  </header>

  <main class="max-w-4xl mx-auto px-6 py-12 prose" id="materi">
    <img src="https://tse2.mm.bing.net/th/id/OIP.iCox_XdylgscEr8jWWTkegHaEU?rs=1&pid=ImgDetMain&o=7&rm=3"
      alt="Pemrograman Web" class="w-full rounded shadow-lg mb-8" />
    <h2 class="text-4xl font-bold mb-4">Pemrograman Web Kelas XI: Membangun API dengan Laravel</h2>
    <p class="text-gray-600 text-lg mb-6 italic">
      "Laravel API, menghidupkan API dengan ketepatan."
    </p>

    <div>
      <h3 class="text-2xl font-semibold">Mengenal API dengan Laravel</h3>
      <p class="mb-4 text-gray-700">
        Laravel, dengan arsitektur MVC yang kokoh, mempermudah pembuatan <strong>RESTful API</strong>. Fitur seperti
        routing, middleware, dan resource controller menjadikannya alat yang elegan untuk menghubungkan aplikasi dengan
        dunia luar. Berikut langkah-langkah membangun API sederhana untuk mengelola artikel.
      </p>

      <h4 class="text-xl font-semibold">Langkah 1: Menyiapkan Proyek Laravel</h4>
      <p class="mb-4 text-gray-700">
        Instal Laravel menggunakan Composer dan jalankan server lokal untuk memulai.
      </p>
      <pre>
composer create-project laravel/laravel api-web
cd api-web
php artisan serve
      </pre>

      <h4 class="text-xl font-semibold">Langkah 2: Membuat Model dan Migration</h4>
      <p class="mb-4 text-gray-700">
        Buat model <code>Artikel</code> beserta migration untuk menyimpan data artikel di database.
      </p>
      <pre>
php artisan make:model Artikel -m
      </pre>
      <p class="mt-2 text-gray-700">
        Edit file migration di <code>database/migrations/xxxx_create_artikels_table.php</code>:
      </p>
      <pre>
use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

class CreateArtikelsTable extends Migration
{
    public function up()
    {
        Schema::create('artikels', function (Blueprint $table) {
            $table->id();
            $table->string('judul');
            $table->text('konten');
            $table->timestamps();
        });
    }

    public function down()
    {
        Schema::dropIfExists('artikels');
    }
}
      </pre>
      <p class="mt-2 text-gray-700">
        Jalankan migration untuk membuat tabel di database:
      </p>
      <pre>
php artisan migrate
      </pre>

      <h4 class="text-xl font-semibold">Langkah 3: Membuat Resource Controller</h4>
      <p class="mb-4 text-gray-700">
        Buat controller untuk menangani operasi CRUD pada API.
      </p>
      <pre>
php artisan make:controller API/ArtikelController --api
      </pre>
      <p class="mt-2 text-gray-700">
        Edit <code>app/Http/Controllers/API/ArtikelController.php</code> untuk menangani permintaan API:
      </p>
      <pre>
namespace App\Http\Controllers\API;

use App\Http\Controllers\Controller;
use App\Models\Artikel;
use Illuminate\Http\Request;

class ArtikelController extends Controller
{
    public function index()
    {
        return response()->json(Artikel::all(), 200);
    }

    public function store(Request $request)
    {
        $validated = $request->validate([
            'judul' => 'required|string|max:255',
            'konten' => 'required|string',
        ]);

        $artikel = Artikel::create($validated);
        return response()->json($artikel, 201);
    }

    public function show($id)
    {
        $artikel = Artikel::findOrFail($id);
        return response()->json($artikel, 200);
    }

    public function update(Request $request, $id)
    {
        $artikel = Artikel::findOrFail($id);
        $validated = $request->validate([
            'judul' => 'sometimes|string|max:255',
            'konten' => 'sometimes|string',
        ]);

        $artikel->update($validated);
        return response()->json($artikel, 200);
    }

    public function destroy($id)
    {
        Artikel::findOrFail($id)->delete();
        return response()->json(null, 204);
    }
}
      </pre>

      <h4 class="text-xl font-semibold">Langkah 4: Menyiapkan Routing API</h4>
      <p class="mb-4 text-gray-700">
        Tambahkan rute API di <code>routes/api.php</code> untuk menghubungkan controller dengan endpoint.
      </p>
      <pre>
use App\Http\Controllers\API\ArtikelController;

Route::apiResource('artikels', ArtikelController::class);
      </pre>

      <h4 class="text-xl font-semibold">Langkah 5: Menguji API dengan Postman</h4>
      <p class="mb-4 text-gray-700">
        Gunakan Postman untuk menguji endpoint API dengan URL dasar: <code>http://localhost:8000/api/artikels</code>.
      </p>
      <ul class="list-disc pl-6 mb-4 text-gray-700">
        <li><strong>GET /artikels</strong> – Menampilkan semua artikel.</li>
        <li><strong>POST /artikels</strong> – Menambahkan artikel baru (kirim JSON: <code>{"judul": "Judul", "konten":
            "Konten"}</code>).</li>
        <li><strong>GET /artikels/{id}</strong> – Menampilkan artikel berdasarkan ID.</li>
        <li><strong>PUT /artikels/{id}</strong> – Memperbarui artikel (kirim JSON dengan data yang ingin diubah).</li>
        <li><strong>DELETE /artikels/{id}</strong> – Menghapus artikel.</li>
      </ul>

      <h4 class="text-xl font-semibold">Langkah 6: Menambahkan Validasi dan Error Handling</h4>
      <p class="mb-4 text-gray-700">
        Laravel secara otomatis menangani validasi melalui <code>$request->validate</code>. Jika validasi gagal, respons
        JSON dengan status 422 akan dikembalikan. Pastikan untuk menguji skenario error, seperti ID yang tidak ditemukan
        atau input yang tidak valid.
      </p>

      <h4 class="text-xl font-semibold">Catatan Tambahan</h4>
      <p class="mb-4 text-gray-700">
        Untuk keamanan, tambahkan middleware seperti <code>auth:sanctum</code> untuk autentikasi API. Instal Laravel
        Sanctum:
      </p>
      <pre>
composer require laravel/sanctum
php artisan vendor:publish --provider="Laravel\Sanctum\SanctumServiceProvider"
php artisan migrate
      </pre>
      <p class="mt-2 text-gray-700">
        Tambahkan middleware ke <code>routes/api.php</code> jika autentikasi diperlukan:
      </p>
      <pre>
Route::apiResource('artikels', ArtikelController::class)->middleware('auth:sanctum');
      </pre>
    </div>

    <div class="mt-12">
        <a href="#" class="inline-block px-6 py-2 bg-gray-900 text-white rounded hover:bg-gray-700 transition">
          Kembali ke Atas
        </a>
      </div>
  </main>

  <footer class="border-t border-gray-200 text-center py-6 text-sm text-gray-500">
    &copy; 2025 MyBlog — Laravel: megah, rapi, terpercaya.
  </footer>

  <script>
    document.getElementById("search").addEventListener("input", function () {
      const query = this.value.toLowerCase();
      window.location.href = `index.html?search=${encodeURIComponent(query)}`;
    });
  </script>
</body>

</html>